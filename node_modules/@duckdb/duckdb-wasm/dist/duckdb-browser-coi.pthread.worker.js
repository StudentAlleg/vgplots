"use strict";(()=>{var Hi=Object.create;var or=Object.defineProperty;var Ti=Object.getOwnPropertyDescriptor;var Mi=Object.getOwnPropertyNames;var Ui=Object.getPrototypeOf,Bi=Object.prototype.hasOwnProperty;var ye=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(i,l)=>(typeof require<"u"?require:i)[l]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var Ci=(r,i)=>()=>(r&&(i=r(r=0)),i);var we=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports),Ii=(r,i)=>{for(var l in i)or(r,l,{get:i[l],enumerable:!0})},Pi=(r,i,l,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let s of Mi(i))!Bi.call(r,s)&&s!==l&&or(r,s,{get:()=>i[s],enumerable:!(o=Ti(i,s))||o.enumerable});return r};var lr=(r,i,l)=>(l=r!=null?Hi(Ui(r)):{},Pi(i||!r||!r.__esModule?or(l,"default",{value:r,enumerable:!0}):l,r));var cr=we(()=>{});var fr=we(()=>{});var _r=we(()=>{});var en=we(()=>{});var rn=we(()=>{});var tn={};Ii(tn,{default:()=>hr});var dr,Ni,hr,br=Ci(()=>{"use strict";dr={},Ni=(()=>{var r=dr.url;return function(i){i=i||{};function l(){return P.buffer!=Z&&fe(P.buffer),Mr}function o(){return P.buffer!=Z&&fe(P.buffer),Ur}function s(){return P.buffer!=Z&&fe(P.buffer),Br}function c(){return P.buffer!=Z&&fe(P.buffer),Cr}function _(){return P.buffer!=Z&&fe(P.buffer),Ir}function f(){return P.buffer!=Z&&fe(P.buffer),Pr}function h(){return P.buffer!=Z&&fe(P.buffer),Nr}var n=typeof i<"u"?i:{},y,B;n.ready=new Promise(function(e,t){y=e,B=t});var L=Object.assign({},n),F=[],X="./this.program",z=(e,t)=>{throw t},te=typeof window=="object",Q=typeof importScripts=="function",O=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",w=n.ENVIRONMENT_IS_PTHREAD||!1,q="";function me(e){return n.locateFile?n.locateFile(e,q):q+e}var ve,Ee,de,R;function Y(e){if(e instanceof Re)return;H("exiting due to exception: "+e)}if(O){Q?q=_r().dirname(q)+"/":q=__dirname+"/";var $,j;typeof ye=="function"&&($=fr(),j=_r()),ve=(t,a)=>(t=j.normalize(t),$.readFileSync(t,a?void 0:"utf8")),de=t=>{var a=ve(t,!0);return a.buffer||(a=new Uint8Array(a)),a},Ee=(t,a,u)=>{t=j.normalize(t),$.readFile(t,function(d,g){d?u(d):a(g.buffer)})},process.argv.length>1&&(X=process.argv[1].replace(/\\/g,"/")),F=process.argv.slice(2),process.on("uncaughtException",function(t){if(!(t instanceof Re))throw t}),process.on("unhandledRejection",function(t){throw t}),z=(t,a)=>{if(Be())throw process.exitCode=t,a;Y(a),process.exit(t)},n.inspect=function(){return"[Emscripten Module object]"};let e;try{e=cr()}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}global.Worker=e.Worker}else(te||Q)&&(Q?q=self.location.href:typeof document<"u"&&document.currentScript&&(q=document.currentScript.src),r&&(q=r),q.indexOf("blob:")!==0?q=q.substr(0,q.replace(/[?#].*/,"").lastIndexOf("/")+1):q="",O||(ve=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},Q&&(de=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Ee=(e,t,a)=>{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=()=>{if(u.status==200||u.status==0&&u.response){t(u.response);return}a()},u.onerror=a,u.send(null)}),R=e=>document.title=e);O&&typeof performance>"u"&&(global.performance=en().performance);var G=console.log.bind(console),W=console.warn.bind(console);O&&(G=e=>$.writeSync(1,e+`
`),W=e=>$.writeSync(2,e+`
`));var C=n.print||G,H=n.printErr||W;Object.assign(n,L),L=null,n.arguments&&(F=n.arguments),n.thisProgram&&(X=n.thisProgram),n.quit&&(z=n.quit);var Ae=Atomics.load,Yi=Atomics.store,Vi=Atomics.compareExchange,Fe;n.wasmBinary&&(Fe=n.wasmBinary);var Rr=n.noExitRuntime||!0;typeof WebAssembly!="object"&&ie("no native wasm support detected");var P,Dr,Ye=!1,Se;function Ve(e,t){e||ie(t)}var xr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Hr(e,t,a){t>>>=0;for(var u=t+a,d=t;e[d]&&!(d>=u);)++d;if(d-t>16&&e.buffer&&xr)return xr.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,d):e.subarray(t,d));for(var g="";t<d;){var p=e[t++];if(!(p&128)){g+=String.fromCharCode(p);continue}var m=e[t++]&63;if((p&224)==192){g+=String.fromCharCode((p&31)<<6|m);continue}var v=e[t++]&63;if((p&240)==224?p=(p&15)<<12|m<<6|v:p=(p&7)<<18|m<<12|v<<6|e[t++]&63,p<65536)g+=String.fromCharCode(p);else{var k=p-65536;g+=String.fromCharCode(55296|k>>10,56320|k&1023)}}return g}function ge(e,t){return e>>>=0,e?Hr(o(),e,t):""}function Tr(e,t,a,u){if(a>>>=0,!(u>0))return 0;for(var d=a,g=a+u-1,p=0;p<e.length;++p){var m=e.charCodeAt(p);if(m>=55296&&m<=57343){var v=e.charCodeAt(++p);m=65536+((m&1023)<<10)|v&1023}if(m<=127){if(a>=g)break;t[a++>>>0]=m}else if(m<=2047){if(a+1>=g)break;t[a++>>>0]=192|m>>6,t[a++>>>0]=128|m&63}else if(m<=65535){if(a+2>=g)break;t[a++>>>0]=224|m>>12,t[a++>>>0]=128|m>>6&63,t[a++>>>0]=128|m&63}else{if(a+3>=g)break;t[a++>>>0]=240|m>>18,t[a++>>>0]=128|m>>12&63,t[a++>>>0]=128|m>>6&63,t[a++>>>0]=128|m&63}}return t[a>>>0]=0,a-d}function Je(e,t,a){return Tr(e,o(),t,a)}function pn(e){for(var t=0,a=0;a<e.length;++a){var u=e.charCodeAt(a);u<=127?t++:u<=2047?t+=2:u>=55296&&u<=57343?(t+=4,++a):t+=3}return t}var Z,Mr,Ur,Br,Cr,Ir,Pr,mn,Nr;w&&(Z=n.buffer);function fe(e){Z=e,n.HEAP8=Mr=new Int8Array(e),n.HEAP16=Br=new Int16Array(e),n.HEAP32=Ir=new Int32Array(e),n.HEAPU8=Ur=new Uint8Array(e),n.HEAPU16=Cr=new Uint16Array(e),n.HEAPU32=Pr=new Uint32Array(e),n.HEAPF32=mn=new Float32Array(e),n.HEAPF64=Nr=new Float64Array(e)}var Lr=n.INITIAL_MEMORY||16777216;if(w)P=n.wasmMemory,Z=n.buffer;else if(n.wasmMemory)P=n.wasmMemory;else if(P=new WebAssembly.Memory({initial:Lr/65536,maximum:65536,shared:!0}),!(P.buffer instanceof SharedArrayBuffer))throw H("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),O&&H("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(Z=P.buffer),Lr=Z.byteLength,fe(Z);var Or,Wr=[],Xr=[],gn=[],qr=[],yn=!1;function Be(){return Rr}function wn(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)An(n.preRun.shift());Ce(Wr)}function Kr(){yn=!0,!w&&Ce(Xr)}function vn(){w||Ce(gn)}function En(){if(!w){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Sn(n.postRun.shift());Ce(qr)}}function An(e){Wr.unshift(e)}function Fn(e){Xr.unshift(e)}function Sn(e){qr.unshift(e)}var be=0,Qe=null,ke=null;function kn(e){be++,n.monitorRunDependencies&&n.monitorRunDependencies(be)}function Rn(e){if(be--,n.monitorRunDependencies&&n.monitorRunDependencies(be),be==0&&(Qe!==null&&(clearInterval(Qe),Qe=null),ke)){var t=ke;ke=null,t()}}function ie(e){w?postMessage({cmd:"onAbort",arg:e}):n.onAbort&&n.onAbort(e),e="Aborted("+e+")",H(e),Ye=!0,Se=1,e+=". Build with -sASSERTIONS for more info.",Yt()}var Dn="data:application/octet-stream;base64,";function $r(e){return e.startsWith(Dn)}var ne;n.locateFile?(ne="./duckdb-coi.wasm",$r(ne)||(ne=me(ne))):ne=new URL("./duckdb-coi.wasm",dr.url).toString();function Gr(e){try{if(e==ne&&Fe)return new Uint8Array(Fe);if(de)return de(e);throw"both async and sync fetching of the wasm failed"}catch(t){ie(t)}}function xn(){return!Fe&&(te||Q)&&typeof fetch=="function"?fetch(ne,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ne+"'";return e.arrayBuffer()}).catch(function(){return Gr(ne)}):Promise.resolve().then(function(){return Gr(ne)})}function Hn(){var e={a:Ia};function t(p,m){var v=p.exports;if(n.asm=v,Pn(n.asm.hb),Or=n.asm.wa,Fn(n.asm.ua),Dr=m,!w){var k=A.unusedWorkers.length;A.unusedWorkers.forEach(function(x){A.loadWasmModuleToWorker(x,function(){--k||Rn("wasm-instantiate")})})}}w||kn("wasm-instantiate");function a(p){t(p.instance,p.module)}function u(p){return xn().then(function(m){return WebAssembly.instantiate(m,e)}).then(function(m){return m}).then(p,function(m){H("failed to asynchronously prepare wasm: "+m),ie(m)})}function d(){return!Fe&&typeof WebAssembly.instantiateStreaming=="function"&&!$r(ne)&&!O&&typeof fetch=="function"?fetch(ne,{credentials:"same-origin"}).then(function(p){var m=WebAssembly.instantiateStreaming(p,e);return m.then(a,function(v){return H("wasm streaming compile failed: "+v),H("falling back to ArrayBuffer instantiation"),u(a)})}):u(a)}if(n.instantiateWasm)try{var g=n.instantiateWasm(e,t);return g}catch(p){H("Module.instantiateWasm callback failed with error: "+p),B(p)}return d().catch(B),{}}var Tn={};function Re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Mn(e){var t=A.pthreads[e];delete A.pthreads[e],t.terminate(),ur(e),A.runningWorkers.splice(A.runningWorkers.indexOf(t),1),t.pthread_ptr=0}function Un(e){var t=A.pthreads[e];t.postMessage({cmd:"cancel"})}function zr(e){var t=A.pthreads[e];Ve(t),A.returnWorkerToPool(t)}function jr(e,t){return o().fill(0,e,e+t),e}function Yr(e){var t=A.getNewWorker();if(!t)return 6;A.runningWorkers.push(t),A.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var a={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{a.time=performance.now(),t.postMessage(a,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}var pe={varargs:void 0,get:function(){pe.varargs+=4;var e=_()[pe.varargs-4>>>2];return e},getStr:function(e){var t=ge(e);return t}};function Vr(e){if(w)return S(1,1,e);Se=e,Be()||(A.terminateAllThreads(),n.onExit&&n.onExit(e),Ye=!0),z(e,new Re(e))}function Jr(e,t){if(Se=e,!t&&w)throw et(e),"unwind";Vr(e)}var Qr=Jr;function Zr(e){if(e instanceof Re||e=="unwind")return Se;z(1,e)}var A={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){w?A.initWorker():A.initMainThread()},initMainThread:function(){for(var e=4;e--;)A.allocateUnusedWorker()},initWorker:function(){Rr=!1},setExitStatus:function(e){Se=e},terminateAllThreads:function(){for(var e of Object.values(A.pthreads))A.returnWorkerToPool(e);for(var e of A.unusedWorkers)e.terminate();A.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete A.pthreads[t],A.unusedWorkers.push(e),A.runningWorkers.splice(A.runningWorkers.indexOf(e),1),e.pthread_ptr=0,ur(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){A.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:function(e,t){e.onmessage=a=>{var u=a.data,d=u.cmd;if(e.pthread_ptr&&(A.currentProxiedOperationCallerThread=e.pthread_ptr),u.targetThread&&u.targetThread!=Xe()){var g=A.pthreads[u.targetThread];g?g.postMessage(u,u.transferList):H('Internal error! Worker sent a message "'+d+'" to target pthread '+u.targetThread+", but that thread no longer exists!"),A.currentProxiedOperationCallerThread=void 0;return}d==="processProxyingQueue"?tr(u.queue):d==="spawnThread"?Yr(u):d==="cleanupThread"?zr(u.thread):d==="killThread"?Mn(u.thread):d==="cancelThread"?Un(u.thread):d==="loaded"?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):d==="print"?C("Thread "+u.threadId+": "+u.text):d==="printErr"?H("Thread "+u.threadId+": "+u.text):d==="alert"?alert("Thread "+u.threadId+": "+u.text):u.target==="setimmediate"?e.postMessage(u):d==="onAbort"?n.onAbort&&n.onAbort(u.arg):d&&H("worker sent an unknown command "+d),A.currentProxiedOperationCallerThread=void 0},e.onerror=a=>{var u="worker sent an error!";throw H(u+" "+a.filename+":"+a.lineno+": "+a.message),a},O&&(e.on("message",function(a){e.onmessage({data:a})}),e.on("error",function(a){e.onerror(a)}),e.on("detachedExit",function(){})),e.postMessage({cmd:"load",urlOrBlob:n.mainScriptUrlOrBlob,wasmMemory:P,wasmModule:Dr})},allocateUnusedWorker:function(){if(!n.locateFile){A.unusedWorkers.push(new Worker(new URL("duckdb_wasm.worker.js",dr.url)));return}var e=me("duckdb_wasm.worker.js");A.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return A.unusedWorkers.length==0&&(A.allocateUnusedWorker(),A.loadWasmModuleToWorker(A.unusedWorkers[0])),A.unusedWorkers.pop()}};n.PThread=A;function Ce(e){for(;e.length>0;)e.shift()(n)}function Bn(){var e=Xe(),t=_()[e+44>>>2],a=_()[e+48>>>2],u=t-a;Vt(t,u),Te(t)}n.establishStackSpace=Bn;function et(e){if(w)return S(2,0,e);try{Qr(e)}catch(t){Zr(t)}}var Ie=[];function Cn(e){var t=Ie[e];return t||(e>=Ie.length&&(Ie.length=e+1),Ie[e]=t=Or.get(e)),t}function In(e,t){var a=Cn(e)(t);Be()?A.setExitStatus(a):jt(a)}n.invokeEntryPoint=In;function Pn(e){A.tlsInitFunctions.push(e)}function Nn(e){$t(e,!Q,1,!te),A.threadInitTLS()}function Ln(e){w?postMessage({cmd:"cleanupThread",thread:e}):zr(e)}function rt(e,t,a,u){return w?S(3,1,e,t,a,u):tt(e,t,a,u)}function tt(e,t,a,u){if(typeof SharedArrayBuffer>"u")return H("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var d=[],g=0;if(w&&(d.length===0||g))return rt(e,t,a,u);if(g)return g;var p={startRoutine:a,pthread_ptr:e,arg:u,transferList:d};return w?(p.cmd="spawnThread",postMessage(p,d),0):Yr(p)}function nt(e,t,a,u,d){if(w)return S(4,1,e,t,a,u,d);for(var g=0,p=t?_()[t>>>2]:0,m=t?_()[t+4>>>2]:0,v=a?_()[a>>>2]:0,k=a?_()[a+4>>>2]:0,x=u?_()[u>>>2]:0,ee=u?_()[u+4>>>2]:0,T=0,oe=0,N=0,V=0,re=0,_e=0,b=(t?_()[t>>>2]:0)|(a?_()[a>>>2]:0)|(u?_()[u>>>2]:0),E=(t?_()[t+4>>>2]:0)|(a?_()[a+4>>>2]:0)|(u?_()[u+4>>>2]:0),I=function(Ri,Di,xi,Zt){return Ri<32?Di&Zt:xi&Zt},M=0;M<e;M++){var J=1<<M%32;if(!!I(M,b,E,J)){var Ue=pe.getStreamFromFD(M),ze=pe.DEFAULT_POLLMASK;Ue.stream_ops.poll&&(ze=Ue.stream_ops.poll(Ue)),ze&1&&I(M,p,m,J)&&(M<32?T=T|J:oe=oe|J,g++),ze&4&&I(M,v,k,J)&&(M<32?N=N|J:V=V|J,g++),ze&2&&I(M,x,ee,J)&&(M<32?re=re|J:_e=_e|J,g++)}}return t&&(_()[t>>>2]=T,_()[t+4>>>2]=oe),a&&(_()[a>>>2]=N,_()[a+4>>>2]=V),u&&(_()[u>>>2]=re,_()[u+4>>>2]=_e),g}function On(){H("missing function: $SOCKFS"),ie(-1)}function at(){H("missing function: $FS"),ie(-1)}function De(e){var t=On.getSocket(e);if(!t)throw new at.ErrnoError(8);return t}function Ze(e){return(e&255)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function it(e){var t="",a=0,u=0,d=0,g=0,p=0,m=0,v=[e[0]&65535,e[0]>>16,e[1]&65535,e[1]>>16,e[2]&65535,e[2]>>16,e[3]&65535,e[3]>>16],k=!0,x="";for(m=0;m<5;m++)if(v[m]!==0){k=!1;break}if(k){if(x=Ze(v[6]|v[7]<<16),v[5]===-1)return t="::ffff:",t+=x,t;if(v[5]===0)return t="::",x==="0.0.0.0"&&(x=""),x==="0.0.0.1"&&(x="1"),t+=x,t}for(a=0;a<8;a++)v[a]===0&&(a-d>1&&(p=0),d=a,p++),p>u&&(u=p,g=a-u+1);for(a=0;a<8;a++){if(u>1&&v[a]===0&&a>=g&&a<g+u){a===g&&(t+=":",g===0&&(t+=":"));continue}t+=Number(ir(v[a]&65535)).toString(16),t+=a<7?":":""}return t}function ut(e,t){var a=s()[e>>>1],u=ir(c()[e+2>>>1]),d;switch(a){case 2:if(t!==16)return{errno:28};d=_()[e+4>>>2],d=Ze(d);break;case 10:if(t!==28)return{errno:28};d=[_()[e+8>>>2],_()[e+12>>>2],_()[e+16>>>2],_()[e+20>>>2]],d=it(d);break;default:return{errno:5}}return{family:a,addr:d,port:u}}function Pe(e){for(var t=e.split("."),a=0;a<4;a++){var u=Number(t[a]);if(isNaN(u))return null;t[a]=u}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function Ne(e){return parseInt(e)}function er(e){var t,a,u,d,g=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,p=[];if(!g.test(e))return null;if(e==="::")return[0,0,0,0,0,0,0,0];for(e.startsWith("::")?e=e.replace("::","Z:"):e=e.replace("::",":Z:"),e.indexOf(".")>0?(e=e.replace(new RegExp("[.]","g"),":"),t=e.split(":"),t[t.length-4]=Ne(t[t.length-4])+Ne(t[t.length-3])*256,t[t.length-3]=Ne(t[t.length-2])+Ne(t[t.length-1])*256,t=t.slice(0,t.length-2)):t=e.split(":"),u=0,d=0,a=0;a<t.length;a++)if(typeof t[a]=="string")if(t[a]==="Z"){for(d=0;d<8-t.length+1;d++)p[a+d]=0;u=d-1}else p[a+u]=Ke(parseInt(t[a],16));else p[a+u]=t[a];return[p[1]<<16|p[0],p[3]<<16|p[2],p[5]<<16|p[4],p[7]<<16|p[6]]}var ae={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t=Pe(e);if(t!==null||(t=er(e),t!==null))return e;var a;if(ae.address_map.addrs[e])a=ae.address_map.addrs[e];else{var u=ae.address_map.id++;Ve(u<65535,"exceeded max address mappings of 65535"),a="172.29."+(u&255)+"."+(u&65280),ae.address_map.names[a]=e,ae.address_map.addrs[e]=a}return a},lookup_addr:function(e){return ae.address_map.names[e]?ae.address_map.names[e]:null}};function st(e,t,a){if(a&&e===0)return null;var u=ut(e,t);if(u.errno)throw new at.ErrnoError(u.errno);return u.addr=ae.lookup_addr(u.addr)||u.addr,u}function ot(e,t,a){if(w)return S(5,1,e,t,a);var u=De(e),d=st(t,a);return u.sock_ops.bind(u,d.addr,d.port),0}function lt(e,t,a){if(w)return S(6,1,e,t,a);var u=De(e),d=st(t,a);return u.sock_ops.connect(u,d.addr,d.port),0}function ct(e,t,a,u){if(w)return S(7,1,e,t,a,u)}function ft(e,t,a){return w?S(8,1,e,t,a):(pe.varargs=a,0)}function _t(e,t){if(w)return S(9,1,e,t)}function dt(e,t,a){if(w)return S(10,1,e,t,a)}function ht(e,t,a){if(w)return S(11,1,e,t,a)}function rr(e,t,a,u,d){switch(t){case 2:a=Pe(a),jr(e,16),d&&(_()[d>>>2]=16),s()[e>>>1]=t,_()[e+4>>>2]=a,s()[e+2>>>1]=Ke(u);break;case 10:a=er(a),jr(e,28),d&&(_()[d>>>2]=28),_()[e>>>2]=t,_()[e+8>>>2]=a[0],_()[e+12>>>2]=a[1],_()[e+16>>>2]=a[2],_()[e+20>>>2]=a[3],s()[e+2>>>1]=Ke(u);break;default:return 5}return 0}function bt(e,t,a){if(w)return S(12,1,e,t,a);var u=De(e);if(!u.daddr)return-53;var d=rr(t,u.family,ae.lookup_name(u.daddr),u.dport,a);return 0}function pt(e,t,a,u,d){if(w)return S(13,1,e,t,a,u,d);var g=De(e);return t===1&&a===4?(_()[u>>>2]=g.error,_()[d>>>2]=4,g.error=null,0):-50}function mt(e,t,a){return w?S(14,1,e,t,a):(pe.varargs=a,0)}function gt(e,t){if(w)return S(15,1,e,t)}function yt(e,t,a){if(w)return S(16,1,e,t,a)}function wt(e,t,a,u){if(w)return S(17,1,e,t,a,u)}function vt(e,t,a,u){if(w)return S(18,1,e,t,a,u);pe.varargs=u}function Et(e,t,a,u,d,g){if(w)return S(19,1,e,t,a,u,d,g);var p=De(e),m=p.sock_ops.recvmsg(p,a);if(!m)return 0;if(d)var v=rr(d,p.family,ae.lookup_name(m.addr),m.port,g);return o().set(m.buffer,t>>>0),m.buffer.byteLength}function At(e,t,a,u){if(w)return S(20,1,e,t,a,u)}function Ft(e){if(w)return S(21,1,e)}function St(e,t,a,u,d,g){if(w)return S(22,1,e,t,a,u,d,g)}function kt(e,t,a){if(w)return S(23,1,e,t,a)}function Rt(e,t){if(w)return S(24,1,e,t)}function Dt(e,t,a){if(w)return S(25,1,e,t,a)}function Wn(e){}var xt="To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking";function Xn(e,t){ie(xt)}function qn(e,t){ie(xt)}function Kn(){return 2097152}var $n=!0;function Gn(){return $n}function tr(e){Atomics.store(_(),e>>2,1),Xe()&&zt(e),Atomics.compareExchange(_(),e>>2,1,0)}n.executeNotifiedProxyingQueue=tr;function zn(e,t,a,u){if(e==t)setTimeout(()=>tr(u));else if(w)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:u});else{var d=A.pthreads[e];if(!d)return;d.postMessage({cmd:"processProxyingQueue",queue:u})}return 1}function jn(e,t,a){return-1}function Yn(){ie("")}function Vn(e,t){return globalThis.DUCKDB_RUNTIME.createDirectory(n,e,t)}function Jn(e,t){return globalThis.DUCKDB_RUNTIME.checkDirectory(n,e,t)}function Qn(e,t){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(n,e,t)}function Zn(e,t){return globalThis.DUCKDB_RUNTIME.removeDirectory(n,e,t)}function ea(e){return globalThis.DUCKDB_RUNTIME.closeFile(n,e)}function ra(e,t){return globalThis.DUCKDB_RUNTIME.checkFile(n,e,t)}function ta(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(n,e)}function na(e,t,a,u){return globalThis.DUCKDB_RUNTIME.moveFile(n,e,t,a,u)}function aa(e,t){return globalThis.DUCKDB_RUNTIME.openFile(n,e,t)}function ia(e,t,a,u){return globalThis.DUCKDB_RUNTIME.readFile(n,e,t,a,u)}function ua(e,t){return globalThis.DUCKDB_RUNTIME.truncateFile(n,e,t)}function sa(e,t,a,u){return globalThis.DUCKDB_RUNTIME.writeFile(n,e,t,a,u)}function oa(e){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(e)}function la(e,t){return globalThis.DUCKDB_RUNTIME.glob(n,e,t)}function ca(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(n,e)}function fa(e,t,a,u,d,g){return globalThis.DUCKDB_RUNTIME.callScalarUDF(n,e,t,a,u,d,g)}function xe(e){xe.shown||(xe.shown={}),xe.shown[e]||(xe.shown[e]=1,O&&(e="warning: "+e),H(e))}function _a(){O||Q||xe("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function da(){return Date.now()}function Ht(){return 4294901760}function ha(){return Ht()}var Le;O?Le=()=>{var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:w?Le=()=>performance.now()-n.__performance_now_clock_drift:Le=()=>performance.now();function ba(e,t,a){o().copyWithin(e>>>0,t>>>0,t+a>>>0)}function pa(){return O?rn().cpus().length:navigator.hardwareConcurrency}function ma(e){var t=$e(),a=e();return Te(t),a}function S(e,t){var a=arguments.length-2,u=arguments;return ma(()=>{for(var d=a,g=Me(d*8),p=g>>3,m=0;m<a;m++){var v=u[2+m];h()[p+m>>>0]=v}return Gt(e,d,g,t)})}var nr=[];function ga(e,t,a){nr.length=t;for(var u=a>>3,d=0;d<t;d++)nr[d]=h()[u+d>>>0];var g=e<0,p=g?Tn[-e-1]:Ca[e];return p.apply(null,nr)}function ya(e){try{return P.grow(e-Z.byteLength+65535>>>16),fe(P.buffer),1}catch(t){}}function wa(e){var t=o().length;if(e=e>>>0,e<=t)return!1;var a=Ht();if(e>a)return!1;let u=(v,k)=>v+(k-v%k)%k;for(var d=1;d<=4;d*=2){var g=t*(1+.2/d);g=Math.min(g,e+100663296);var p=Math.min(a,u(Math.max(e,g),65536)),m=ya(p);if(m)return!0}return!1}function va(){throw"unwind"}var ar={};function Ea(){return X||"./this.program"}function He(){if(!He.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ea()};for(var a in ar)ar[a]===void 0?delete t[a]:t[a]=ar[a];var u=[];for(var a in t)u.push(a+"="+t[a]);He.strings=u}return He.strings}function Aa(e,t,a){for(var u=0;u<e.length;++u)l()[t++>>>0]=e.charCodeAt(u);a||(l()[t>>>0]=0)}function Tt(e,t){if(w)return S(26,1,e,t);var a=0;return He().forEach(function(u,d){var g=t+a;f()[e+d*4>>>2]=g,Aa(u,g),a+=u.length+1}),0}function Mt(e,t){if(w)return S(27,1,e,t);var a=He();f()[e>>>2]=a.length;var u=0;return a.forEach(function(d){u+=d.length+1}),f()[t>>>2]=u,0}function Ut(e){return w?S(28,1,e):52}function Bt(e,t){if(w)return S(29,1,e,t);var a=e==1||e==2?2:ie();return l()[t>>>0]=a,0}function Ct(e,t,a,u,d,g){return w?S(30,1,e,t,a,u,d,g):52}function It(e,t,a,u,d,g){return w?S(31,1,e,t,a,u,d,g):52}function Pt(e,t,a,u){return w?S(32,1,e,t,a,u):52}function Nt(e,t,a,u,d){return w?S(33,1,e,t,a,u,d):70}function Lt(e){return w?S(34,1,e):52}var Fa=[null,[],[]];function Sa(e,t){var a=Fa[e];t===0||t===10?((e===1?C:H)(Hr(a,0)),a.length=0):a.push(t)}function Ot(e,t,a,u){if(w)return S(35,1,e,t,a,u);for(var d=0,g=0;g<a;g++){var p=f()[t>>>2],m=f()[t+4>>>2];t+=8;for(var v=0;v<m;v++)Sa(e,o()[p+v>>>0]);d+=m}return f()[u>>>2]=d,0}function Wt(e,t,a,u){if(w)return S(36,1,e,t,a,u);var d=0,g=0,p=0,m=0,v=0,k=0,x;function ee(T,oe,N,V,re,_e){var b,E,I,M;return E=T===10?28:16,re=T===10?it(re):Ze(re),b=sr(E),M=rr(b,T,re,_e),Ve(!M),I=sr(32),_()[I+4>>>2]=T,_()[I+8>>>2]=oe,_()[I+12>>>2]=N,_()[I+24>>>2]=V,f()[I+20>>>2]=b,T===10?_()[I+16>>>2]=28:_()[I+16>>>2]=16,_()[I+28>>>2]=0,I}if(a&&(p=_()[a>>>2],m=_()[a+4>>>2],v=_()[a+8>>>2],k=_()[a+12>>>2]),v&&!k&&(k=v===2?17:6),!v&&k&&(v=k===17?2:1),k===0&&(k=6),v===0&&(v=1),!e&&!t)return-2;if(p&-1088||a!==0&&_()[a>>>2]&2&&!e)return-1;if(p&32)return-2;if(v!==0&&v!==1&&v!==2)return-7;if(m!==0&&m!==2&&m!==10)return-6;if(t&&(t=ge(t),g=parseInt(t,10),isNaN(g)))return p&1024?-2:-8;if(!e)return m===0&&(m=2),(p&1)===0&&(m===2?d=qe(2130706433):d=[0,0,0,1]),x=ee(m,v,k,null,d,g),f()[u>>>2]=x,0;if(e=ge(e),d=Pe(e),d!==null)if(m===0||m===2)m=2;else if(m===10&&p&8)d=[0,0,qe(65535),d],m=10;else return-2;else if(d=er(e),d!==null)if(m===0||m===10)m=10;else return-2;return d!=null?(x=ee(m,v,k,e,d,g),f()[u>>>2]=x,0):p&4?-2:(e=ae.lookup_name(e),d=Pe(e),m===0?m=2:m===10&&(d=[0,0,qe(65535),d]),x=ee(m,v,k,null,d,g),f()[u>>>2]=x,0)}function ka(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}else if(O)try{var t=ye("crypto");return()=>t.randomBytes(1)[0]}catch(a){}return()=>ie("randomDevice")}function Oe(e,t){Oe.randomDevice||(Oe.randomDevice=ka());for(var a=0;a<t;a++)l()[e+a>>>0]=Oe.randomDevice();return 0}function Ra(e,t,a,u,d,g,p){var m=ut(e,t);if(m.errno)return-6;var v=m.port,k=m.addr,x=!1;if(a&&u){var ee;if(p&1||!(ee=ae.lookup_addr(k))){if(p&8)return-2}else k=ee;var T=Je(k,a,u);T+1>=u&&(x=!0)}if(d&&g){v=""+v;var T=Je(v,d,g);T+1>=g&&(x=!0)}return x?-12:0}function We(e){return e%4===0&&(e%100!==0||e%400===0)}function Da(e,t){for(var a=0,u=0;u<=t;a+=e[u++]);return a}var Xt=[31,29,31,30,31,30,31,31,30,31,30,31],qt=[31,28,31,30,31,30,31,31,30,31,30,31];function xa(e,t){for(var a=new Date(e.getTime());t>0;){var u=We(a.getFullYear()),d=a.getMonth(),g=(u?Xt:qt)[d];if(t>g-a.getDate())t-=g-a.getDate()+1,a.setDate(1),d<11?a.setMonth(d+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else return a.setDate(a.getDate()+t),a}return a}function Ha(e,t,a){var u=a>0?a:pn(e)+1,d=new Array(u),g=Tr(e,d,0,d.length);return t&&(d.length=g),d}function Kt(e,t){l().set(e,t>>>0)}function Ta(e,t,a,u){var d=_()[u+40>>>2],g={tm_sec:_()[u>>>2],tm_min:_()[u+4>>>2],tm_hour:_()[u+8>>>2],tm_mday:_()[u+12>>>2],tm_mon:_()[u+16>>>2],tm_year:_()[u+20>>>2],tm_wday:_()[u+24>>>2],tm_yday:_()[u+28>>>2],tm_isdst:_()[u+32>>>2],tm_gmtoff:_()[u+36>>>2],tm_zone:d?ge(d):""},p=ge(a),m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var v in m)p=p.replace(new RegExp(v,"g"),m[v]);var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=["January","February","March","April","May","June","July","August","September","October","November","December"];function ee(b,E,I){for(var M=typeof b=="number"?b.toString():b||"";M.length<E;)M=I[0]+M;return M}function T(b,E){return ee(b,E,"0")}function oe(b,E){function I(J){return J<0?-1:J>0?1:0}var M;return(M=I(b.getFullYear()-E.getFullYear()))===0&&(M=I(b.getMonth()-E.getMonth()))===0&&(M=I(b.getDate()-E.getDate())),M}function N(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function V(b){var E=xa(new Date(b.tm_year+1900,0,1),b.tm_yday),I=new Date(E.getFullYear(),0,4),M=new Date(E.getFullYear()+1,0,4),J=N(I),Ue=N(M);return oe(J,E)<=0?oe(Ue,E)<=0?E.getFullYear()+1:E.getFullYear():E.getFullYear()-1}var re={"%a":function(b){return k[b.tm_wday].substring(0,3)},"%A":function(b){return k[b.tm_wday]},"%b":function(b){return x[b.tm_mon].substring(0,3)},"%B":function(b){return x[b.tm_mon]},"%C":function(b){var E=b.tm_year+1900;return T(E/100|0,2)},"%d":function(b){return T(b.tm_mday,2)},"%e":function(b){return ee(b.tm_mday,2," ")},"%g":function(b){return V(b).toString().substring(2)},"%G":function(b){return V(b)},"%H":function(b){return T(b.tm_hour,2)},"%I":function(b){var E=b.tm_hour;return E==0?E=12:E>12&&(E-=12),T(E,2)},"%j":function(b){return T(b.tm_mday+Da(We(b.tm_year+1900)?Xt:qt,b.tm_mon-1),3)},"%m":function(b){return T(b.tm_mon+1,2)},"%M":function(b){return T(b.tm_min,2)},"%n":function(){return`
`},"%p":function(b){return b.tm_hour>=0&&b.tm_hour<12?"AM":"PM"},"%S":function(b){return T(b.tm_sec,2)},"%t":function(){return"	"},"%u":function(b){return b.tm_wday||7},"%U":function(b){var E=b.tm_yday+7-b.tm_wday;return T(Math.floor(E/7),2)},"%V":function(b){var E=Math.floor((b.tm_yday+7-(b.tm_wday+6)%7)/7);if((b.tm_wday+371-b.tm_yday-2)%7<=2&&E++,E){if(E==53){var M=(b.tm_wday+371-b.tm_yday)%7;M!=4&&(M!=3||!We(b.tm_year))&&(E=1)}}else{E=52;var I=(b.tm_wday+7-b.tm_yday-1)%7;(I==4||I==5&&We(b.tm_year%400-1))&&E++}return T(E,2)},"%w":function(b){return b.tm_wday},"%W":function(b){var E=b.tm_yday+7-(b.tm_wday+6)%7;return T(Math.floor(E/7),2)},"%y":function(b){return(b.tm_year+1900).toString().substring(2)},"%Y":function(b){return b.tm_year+1900},"%z":function(b){var E=b.tm_gmtoff,I=E>=0;return E=Math.abs(E)/60,E=E/60*100+E%60,(I?"+":"-")+String("0000"+E).slice(-4)},"%Z":function(b){return b.tm_zone},"%%":function(){return"%"}};p=p.replace(/%%/g,"\0\0");for(var v in re)p.includes(v)&&(p=p.replace(new RegExp(v,"g"),re[v](g)));p=p.replace(/\0\0/g,"%");var _e=Ha(p,!1);return _e.length>t?0:(Kt(_e,e),_e.length-1)}function Ma(e,t,a,u,d){return Ta(e,t,a,u)}function Ua(e){var t=n["_"+e];return t}function Ba(e,t,a,u,d){var g={string:N=>{var V=0;if(N!=null&&N!==0){var re=(N.length<<2)+1;V=Me(re),Je(N,V,re)}return V},array:N=>{var V=Me(N.length);return Kt(N,V),V}};function p(N){return t==="string"?ge(N):t==="boolean"?Boolean(N):N}var m=Ua(e),v=[],k=0;if(u)for(var x=0;x<u.length;x++){var ee=g[a[x]];ee?(k===0&&(k=$e()),v[x]=ee(u[x])):v[x]=u[x]}var T=m.apply(null,v);function oe(N){return k!==0&&Te(k),p(N)}return T=oe(T),T}A.init();var Ca=[null,Vr,et,rt,nt,ot,lt,ct,ft,_t,dt,ht,bt,pt,mt,gt,yt,wt,vt,Et,At,Ft,St,kt,Rt,Dt,Tt,Mt,Ut,Bt,Ct,It,Pt,Nt,Lt,Ot,Wt],Ia={v:Nn,t:Ln,ja:tt,aa:nt,ea:ot,da:lt,X:ct,b:ft,W:_t,x:dt,R:ht,_:bt,$:pt,r:mt,T:gt,S:yt,U:wt,s:vt,ba:Et,P:At,l:Ft,ca:St,n:kt,V:Rt,m:Dt,fa:Wn,p:Xn,ha:qn,ka:Kn,sa:Gn,Z:zn,J:jn,e:Yn,H:Vn,I:Jn,F:Qn,G:Zn,j:ea,D:ra,w:ta,E:na,L:aa,f:ia,K:ua,g:sa,M:oa,C:la,i:ca,N:fa,k:_a,ta:da,la:ha,c:Le,ga:ba,ma:pa,z:ga,ra:wa,u:va,oa:Tt,pa:Mt,ia:Qr,d:Ut,qa:Bt,A:Ct,y:It,q:Pt,B:Nt,Q:Lt,h:Ot,o:Wt,O:Oe,Y:Ra,a:P||n.wasmMemory,na:Ma},Ji=Hn(),Pa=n.___wasm_call_ctors=function(){return(Pa=n.___wasm_call_ctors=n.asm.ua).apply(null,arguments)},Na=n._main=function(){return(Na=n._main=n.asm.va).apply(null,arguments)},La=n._duckdb_web_fs_glob_add_path=function(){return(La=n._duckdb_web_fs_glob_add_path=n.asm.xa).apply(null,arguments)},Oa=n._duckdb_web_clear_response=function(){return(Oa=n._duckdb_web_clear_response=n.asm.ya).apply(null,arguments)},Wa=n._duckdb_web_fail_with=function(){return(Wa=n._duckdb_web_fail_with=n.asm.za).apply(null,arguments)},Xa=n._duckdb_web_reset=function(){return(Xa=n._duckdb_web_reset=n.asm.Aa).apply(null,arguments)},qa=n._duckdb_web_connect=function(){return(qa=n._duckdb_web_connect=n.asm.Ba).apply(null,arguments)},Ka=n._duckdb_web_disconnect=function(){return(Ka=n._duckdb_web_disconnect=n.asm.Ca).apply(null,arguments)},$a=n._duckdb_web_flush_files=function(){return($a=n._duckdb_web_flush_files=n.asm.Da).apply(null,arguments)},Ga=n._duckdb_web_flush_file=function(){return(Ga=n._duckdb_web_flush_file=n.asm.Ea).apply(null,arguments)},za=n._duckdb_web_open=function(){return(za=n._duckdb_web_open=n.asm.Fa).apply(null,arguments)},ja=n._duckdb_web_get_global_file_info=function(){return(ja=n._duckdb_web_get_global_file_info=n.asm.Ga).apply(null,arguments)},Ya=n._duckdb_web_collect_file_stats=function(){return(Ya=n._duckdb_web_collect_file_stats=n.asm.Ha).apply(null,arguments)},Va=n._duckdb_web_export_file_stats=function(){return(Va=n._duckdb_web_export_file_stats=n.asm.Ia).apply(null,arguments)},Ja=n._duckdb_web_fs_drop_file=function(){return(Ja=n._duckdb_web_fs_drop_file=n.asm.Ja).apply(null,arguments)},Qa=n._duckdb_web_fs_drop_files=function(){return(Qa=n._duckdb_web_fs_drop_files=n.asm.Ka).apply(null,arguments)},Za=n._duckdb_web_fs_glob_file_infos=function(){return(Za=n._duckdb_web_fs_glob_file_infos=n.asm.La).apply(null,arguments)},ei=n._duckdb_web_fs_get_file_info_by_id=function(){return(ei=n._duckdb_web_fs_get_file_info_by_id=n.asm.Ma).apply(null,arguments)},ri=n._duckdb_web_fs_get_file_info_by_name=function(){return(ri=n._duckdb_web_fs_get_file_info_by_name=n.asm.Na).apply(null,arguments)},ti=n._duckdb_web_fs_register_file_url=function(){return(ti=n._duckdb_web_fs_register_file_url=n.asm.Oa).apply(null,arguments)},ni=n._duckdb_web_fs_register_file_buffer=function(){return(ni=n._duckdb_web_fs_register_file_buffer=n.asm.Pa).apply(null,arguments)},ai=n._duckdb_web_copy_file_to_buffer=function(){return(ai=n._duckdb_web_copy_file_to_buffer=n.asm.Qa).apply(null,arguments)},ii=n._duckdb_web_copy_file_to_path=function(){return(ii=n._duckdb_web_copy_file_to_path=n.asm.Ra).apply(null,arguments)},ui=n._duckdb_web_get_version=function(){return(ui=n._duckdb_web_get_version=n.asm.Sa).apply(null,arguments)},si=n._duckdb_web_get_feature_flags=function(){return(si=n._duckdb_web_get_feature_flags=n.asm.Ta).apply(null,arguments)},oi=n._duckdb_web_tokenize=function(){return(oi=n._duckdb_web_tokenize=n.asm.Ua).apply(null,arguments)},li=n._duckdb_web_udf_scalar_create=function(){return(li=n._duckdb_web_udf_scalar_create=n.asm.Va).apply(null,arguments)},ci=n._duckdb_web_prepared_create=function(){return(ci=n._duckdb_web_prepared_create=n.asm.Wa).apply(null,arguments)},fi=n._duckdb_web_prepared_close=function(){return(fi=n._duckdb_web_prepared_close=n.asm.Xa).apply(null,arguments)},_i=n._duckdb_web_prepared_run=function(){return(_i=n._duckdb_web_prepared_run=n.asm.Ya).apply(null,arguments)},di=n._duckdb_web_prepared_send=function(){return(di=n._duckdb_web_prepared_send=n.asm.Za).apply(null,arguments)},hi=n._duckdb_web_query_run=function(){return(hi=n._duckdb_web_query_run=n.asm._a).apply(null,arguments)},bi=n._duckdb_web_pending_query_start=function(){return(bi=n._duckdb_web_pending_query_start=n.asm.$a).apply(null,arguments)},pi=n._duckdb_web_pending_query_poll=function(){return(pi=n._duckdb_web_pending_query_poll=n.asm.ab).apply(null,arguments)},mi=n._duckdb_web_pending_query_cancel=function(){return(mi=n._duckdb_web_pending_query_cancel=n.asm.bb).apply(null,arguments)},gi=n._duckdb_web_query_fetch_results=function(){return(gi=n._duckdb_web_query_fetch_results=n.asm.cb).apply(null,arguments)},yi=n._duckdb_web_get_tablenames=function(){return(yi=n._duckdb_web_get_tablenames=n.asm.db).apply(null,arguments)},wi=n._duckdb_web_insert_arrow_from_ipc_stream=function(){return(wi=n._duckdb_web_insert_arrow_from_ipc_stream=n.asm.eb).apply(null,arguments)},vi=n._duckdb_web_insert_csv_from_path=function(){return(vi=n._duckdb_web_insert_csv_from_path=n.asm.fb).apply(null,arguments)},Ei=n._duckdb_web_insert_json_from_path=function(){return(Ei=n._duckdb_web_insert_json_from_path=n.asm.gb).apply(null,arguments)},Ai=n.__emscripten_tls_init=function(){return(Ai=n.__emscripten_tls_init=n.asm.hb).apply(null,arguments)},Xe=n._pthread_self=function(){return(Xe=n._pthread_self=n.asm.ib).apply(null,arguments)},$t=n.__emscripten_thread_init=function(){return($t=n.__emscripten_thread_init=n.asm.jb).apply(null,arguments)},Fi=n.__emscripten_thread_crashed=function(){return(Fi=n.__emscripten_thread_crashed=n.asm.kb).apply(null,arguments)},qe=n._htonl=function(){return(qe=n._htonl=n.asm.lb).apply(null,arguments)},Ke=n._htons=function(){return(Ke=n._htons=n.asm.mb).apply(null,arguments)},Gt=n._emscripten_run_in_main_runtime_thread_js=function(){return(Gt=n._emscripten_run_in_main_runtime_thread_js=n.asm.nb).apply(null,arguments)},ir=n._ntohs=function(){return(ir=n._ntohs=n.asm.ob).apply(null,arguments)},zt=n.__emscripten_proxy_execute_task_queue=function(){return(zt=n.__emscripten_proxy_execute_task_queue=n.asm.pb).apply(null,arguments)},ur=n.__emscripten_thread_free_data=function(){return(ur=n.__emscripten_thread_free_data=n.asm.qb).apply(null,arguments)},jt=n.__emscripten_thread_exit=function(){return(jt=n.__emscripten_thread_exit=n.asm.rb).apply(null,arguments)},sr=n._malloc=function(){return(sr=n._malloc=n.asm.sb).apply(null,arguments)},Si=n._free=function(){return(Si=n._free=n.asm.tb).apply(null,arguments)},Yt=n.___trap=function(){return(Yt=n.___trap=n.asm.ub).apply(null,arguments)},Vt=n._emscripten_stack_set_limits=function(){return(Vt=n._emscripten_stack_set_limits=n.asm.vb).apply(null,arguments)},$e=n.stackSave=function(){return($e=n.stackSave=n.asm.wb).apply(null,arguments)},Te=n.stackRestore=function(){return(Te=n.stackRestore=n.asm.xb).apply(null,arguments)},Me=n.stackAlloc=function(){return(Me=n.stackAlloc=n.asm.yb).apply(null,arguments)};n.keepRuntimeAlive=Be,n.wasmMemory=P,n.stackAlloc=Me,n.stackSave=$e,n.stackRestore=Te,n.ccall=Ba,n.ExitStatus=Re,n.PThread=A;var Ge;ke=function e(){Ge||Jt(),Ge||(ke=e)};function ki(e){var t=n._main,a=0,u=0;try{var d=t(a,u);return Jr(d,!0),d}catch(g){return Zr(g)}}function Jt(e){if(e=e||F,be>0)return;if(w){y(n),Kr(),postMessage({cmd:"loaded"});return}if(wn(),be>0)return;function t(){Ge||(Ge=!0,n.calledRun=!0,!Ye&&(Kr(),vn(),y(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Qt&&ki(e),En()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();var Qt=!0;return n.noInitialRun&&(Qt=!1),Jt(),i.ready}})(),hr=Ni});var on=we((exports,module)=>{(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(r){return typeof r=="object"&&r.buffer&&r.buffer.constructor===ArrayBuffer});var createOutputMethod=function(r,i){return function(l){return new Sha256(i,!0).update(l)[r]()}},createMethod=function(r){var i=createOutputMethod("hex",r);NODE_JS&&(i=nodeWrap(i,r)),i.create=function(){return new Sha256(r)},i.update=function(s){return i.create().update(s)};for(var l=0;l<OUTPUT_TYPES.length;++l){var o=OUTPUT_TYPES[l];i[o]=createOutputMethod(o,r)}return i},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(r){if(typeof r=="string")return crypto.createHash(algorithm).update(r,"utf8").digest("hex");if(r==null)throw new Error(ERROR);return r.constructor===ArrayBuffer&&(r=new Uint8Array(r)),Array.isArray(r)||ArrayBuffer.isView(r)||r.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(r)).digest("hex"):method(r)};return nodeMethod},createHmacOutputMethod=function(r,i){return function(l,o){return new HmacSha256(l,i,!0).update(o)[r]()}},createHmacMethod=function(r){var i=createHmacOutputMethod("hex",r);i.create=function(s){return new HmacSha256(s,r)},i.update=function(s,c){return i.create(s).update(c)};for(var l=0;l<OUTPUT_TYPES.length;++l){var o=OUTPUT_TYPES[l];i[o]=createHmacOutputMethod(o,r)}return i};function Sha256(r,i){i?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=r}Sha256.prototype.update=function(r){if(!this.finalized){var i,l=typeof r;if(l!=="string"){if(l==="object"){if(r===null)throw new Error(ERROR);if(ARRAY_BUFFER&&r.constructor===ArrayBuffer)r=new Uint8Array(r);else if(!Array.isArray(r)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(r)))throw new Error(ERROR)}else throw new Error(ERROR);i=!0}for(var o,s=0,c,_=r.length,f=this.blocks;s<_;){if(this.hashed&&(this.hashed=!1,f[0]=this.block,f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),i)for(c=this.start;s<_&&c<64;++s)f[c>>2]|=r[s]<<SHIFT[c++&3];else for(c=this.start;s<_&&c<64;++s)o=r.charCodeAt(s),o<128?f[c>>2]|=o<<SHIFT[c++&3]:o<2048?(f[c>>2]|=(192|o>>6)<<SHIFT[c++&3],f[c>>2]|=(128|o&63)<<SHIFT[c++&3]):o<55296||o>=57344?(f[c>>2]|=(224|o>>12)<<SHIFT[c++&3],f[c>>2]|=(128|o>>6&63)<<SHIFT[c++&3],f[c>>2]|=(128|o&63)<<SHIFT[c++&3]):(o=65536+((o&1023)<<10|r.charCodeAt(++s)&1023),f[c>>2]|=(240|o>>18)<<SHIFT[c++&3],f[c>>2]|=(128|o>>12&63)<<SHIFT[c++&3],f[c>>2]|=(128|o>>6&63)<<SHIFT[c++&3],f[c>>2]|=(128|o&63)<<SHIFT[c++&3]);this.lastByteIndex=c,this.bytes+=c-this.start,c>=64?(this.block=f[16],this.start=c-64,this.hash(),this.hashed=!0):this.start=c}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var r=this.blocks,i=this.lastByteIndex;r[16]=this.block,r[i>>2]|=EXTRA[i&3],this.block=r[16],i>=56&&(this.hashed||this.hash(),r[0]=this.block,r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),r[14]=this.hBytes<<3|this.bytes>>>29,r[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var r=this.h0,i=this.h1,l=this.h2,o=this.h3,s=this.h4,c=this.h5,_=this.h6,f=this.h7,h=this.blocks,n,y,B,L,F,X,z,te,Q,O,w;for(n=16;n<64;++n)F=h[n-15],y=(F>>>7|F<<25)^(F>>>18|F<<14)^F>>>3,F=h[n-2],B=(F>>>17|F<<15)^(F>>>19|F<<13)^F>>>10,h[n]=h[n-16]+y+h[n-7]+B<<0;for(w=i&l,n=0;n<64;n+=4)this.first?(this.is224?(te=300032,F=h[0]-1413257819,f=F-150054599<<0,o=F+24177077<<0):(te=704751109,F=h[0]-210244248,f=F-1521486534<<0,o=F+143694565<<0),this.first=!1):(y=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),B=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),te=r&i,L=te^r&l^w,z=s&c^~s&_,F=f+B+z+K[n]+h[n],X=y+L,f=o+F<<0,o=F+X<<0),y=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),B=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),Q=o&r,L=Q^o&i^te,z=f&s^~f&c,F=_+B+z+K[n+1]+h[n+1],X=y+L,_=l+F<<0,l=F+X<<0,y=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),B=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7),O=l&o,L=O^l&r^Q,z=_&f^~_&s,F=c+B+z+K[n+2]+h[n+2],X=y+L,c=i+F<<0,i=F+X<<0,y=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),B=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),w=i&l,L=w^i&o^O,z=c&_^~c&f,F=s+B+z+K[n+3]+h[n+3],X=y+L,s=r+F<<0,r=F+X<<0;this.h0=this.h0+r<<0,this.h1=this.h1+i<<0,this.h2=this.h2+l<<0,this.h3=this.h3+o<<0,this.h4=this.h4+s<<0,this.h5=this.h5+c<<0,this.h6=this.h6+_<<0,this.h7=this.h7+f<<0},Sha256.prototype.hex=function(){this.finalize();var r=this.h0,i=this.h1,l=this.h2,o=this.h3,s=this.h4,c=this.h5,_=this.h6,f=this.h7,h=HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[_&15];return this.is224||(h+=HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]),h},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var r=this.h0,i=this.h1,l=this.h2,o=this.h3,s=this.h4,c=this.h5,_=this.h6,f=this.h7,h=[r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,l>>24&255,l>>16&255,l>>8&255,l&255,o>>24&255,o>>16&255,o>>8&255,o&255,s>>24&255,s>>16&255,s>>8&255,s&255,c>>24&255,c>>16&255,c>>8&255,c&255,_>>24&255,_>>16&255,_>>8&255,_&255];return this.is224||h.push(f>>24&255,f>>16&255,f>>8&255,f&255),h},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var r=new ArrayBuffer(this.is224?28:32),i=new DataView(r);return i.setUint32(0,this.h0),i.setUint32(4,this.h1),i.setUint32(8,this.h2),i.setUint32(12,this.h3),i.setUint32(16,this.h4),i.setUint32(20,this.h5),i.setUint32(24,this.h6),this.is224||i.setUint32(28,this.h7),r};function HmacSha256(r,i,l){var o,s=typeof r;if(s==="string"){var c=[],_=r.length,f=0,h;for(o=0;o<_;++o)h=r.charCodeAt(o),h<128?c[f++]=h:h<2048?(c[f++]=192|h>>6,c[f++]=128|h&63):h<55296||h>=57344?(c[f++]=224|h>>12,c[f++]=128|h>>6&63,c[f++]=128|h&63):(h=65536+((h&1023)<<10|r.charCodeAt(++o)&1023),c[f++]=240|h>>18,c[f++]=128|h>>12&63,c[f++]=128|h>>6&63,c[f++]=128|h&63);r=c}else if(s==="object"){if(r===null)throw new Error(ERROR);if(ARRAY_BUFFER&&r.constructor===ArrayBuffer)r=new Uint8Array(r);else if(!Array.isArray(r)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(r)))throw new Error(ERROR)}else throw new Error(ERROR);r.length>64&&(r=new Sha256(i,!0).update(r).array());var n=[],y=[];for(o=0;o<64;++o){var B=r[o]||0;n[o]=92^B,y[o]=54^B}Sha256.call(this,i,l),this.update(y),this.oKeyPad=n,this.inner=!0,this.sharedMemory=l}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var r=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(r),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var U={},an=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";an&&(pr=cr(),mr=pr.parentPort,mr.on("message",r=>vr({data:r})),wr=fr(),Object.assign(global,{self:global,require:ye,Module:U,location:{href:__filename},Worker:pr.Worker,importScripts:function(r){(0,eval)(wr.readFileSync(r,"utf8"))},postMessage:function(r){mr.postMessage(r)},performance:global.performance||{now:function(){return Date.now()}}}));var pr,mr,wr,gr=!1,yr=[];function Li(){var r=Array.prototype.slice.call(arguments).join(" ");if(an){wr.writeSync(2,r+`
`);return}console.error(r)}function Oi(){var r=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:r,threadId:U._pthread_self()})}var nn=Li;self.alert=Oi;U.instantiateWasm=(r,i)=>{var l=new WebAssembly.Instance(U.wasmModule,r);return i(l),U.wasmModule=null,l.exports};self.onunhandledrejection=r=>{var i;throw(i=r.reason)!=null?i:r};self.onmessage=r=>{try{if(r.data.cmd==="load")U.wasmModule=r.data.wasmModule,U.wasmMemory=r.data.wasmMemory,U.buffer=U.wasmMemory.buffer,U.ENVIRONMENT_IS_PTHREAD=!0,(r.data.urlOrBlob?Promise.resolve().then(()=>lr(ye(r.data.urlOrBlob))):Promise.resolve().then(()=>(br(),tn))).then(function(i){return i.default(U)}).then(function(i){U=i});else if(r.data.cmd==="run"){U.__performance_now_clock_drift=performance.now()-r.data.time,U.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),U.establishStackSpace(),U.PThread.receiveObjectTransfer(r.data),U.PThread.threadInitTLS(),gr||(yr.forEach(i=>{U.executeNotifiedProxyingQueue(i)}),yr=[],gr=!0);try{U.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(i){if(i!="unwind")if(i instanceof U.ExitStatus)U.keepRuntimeAlive()||U.__emscripten_thread_exit(i.status);else throw i}}else r.data.cmd==="cancel"?U._pthread_self()&&U.__emscripten_thread_exit(-1):r.data.target==="setimmediate"||(r.data.cmd==="processProxyingQueue"?gr?U.executeNotifiedProxyingQueue(r.data.queue):yr.push(r.data.queue):r.data.cmd&&(nn("worker.js received unknown command "+r.data.cmd),nn(r.data)))}catch(i){throw U.__emscripten_thread_crashed&&U.__emscripten_thread_crashed(),i}};var vr=self.onmessage;function un(){return U}function sn(r){U=r}br();var he=lr(on()),ln=function(r,i,l){var o;if((o=r==null?void 0:r.endpoint)!=null&&o.startsWith("http")){let s=`${r==null?void 0:r.endpoint}`,c=s.indexOf("://")+3;return s.substring(c)}else return r!=null&&r.endpoint?`${l}.${r==null?void 0:r.endpoint}`:`${l}.s3.amazonaws.com`};function Xi(r,i,l){var c,_,f,h;let o=cn(i),s=o.path;return fn(r)&&(s=`/${o.bucket}${s}`),{url:s,query:"",host:ln(r,i,o.bucket),region:(c=r==null?void 0:r.region)!=null?c:"",service:"s3",method:l,accessKeyId:(_=r==null?void 0:r.accessKeyId)!=null?_:"",secretAccessKey:(f=r==null?void 0:r.secretAccessKey)!=null?f:"",sessionToken:(h=r==null?void 0:r.sessionToken)!=null?h:"",dateNow:new Date().toISOString().replace(/-/g,"").split("T")[0],datetimeNow:new Date().toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function qi(r,i=!1){let l="0123456789ABCDEF",o="";for(let s=0;s<r.length;s++){let c=r[s];c>="A"&&c<="Z"||c>="a"&&c<="z"||c>="0"&&c<="9"||c=="_"||c=="-"||c=="~"||c=="."?o+=c:c=="/"?i?o+="%2F":o+=c:(o+="%",o+=l[c.charCodeAt(0)>>4],o+=l[c.charCodeAt(0)&15])}return o}function Ki(r,i=null){var X;let l=(X=i==null?void 0:i.contentHash)!=null?X:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",o=new Map;o.set("x-amz-date",r.datetimeNow),o.set("x-amz-content-sha256",l),r.sessionToken&&o.set("x-amz-security-token",r.sessionToken);let s="";i!=null&&i.contentType&&(s+="content-type;"),s+="host;x-amz-content-sha256;x-amz-date",r.sessionToken&&(s+=";x-amz-security-token");let c=r.method+`
`+qi(r.url)+`
`+r.query;i!=null&&i.contentType&&(c+=`
content-type:`+(i==null?void 0:i.contentType)),c+=`
host:`+r.host+`
x-amz-content-sha256:`+l+`
x-amz-date:`+r.datetimeNow,r.sessionToken&&r.sessionToken.length>0&&(c+=`
x-amz-security-token:`+r.sessionToken),c+=`

`+s+`
`+l;let _=(0,he.sha256)(c),f=`AWS4-HMAC-SHA256
`+r.datetimeNow+`
`+r.dateNow+"/"+r.region+"/"+r.service+`/aws4_request
`+_,h="AWS4"+r.secretAccessKey,n=he.sha256.hmac.arrayBuffer(h,r.dateNow),y=he.sha256.hmac.arrayBuffer(n,r.region),B=he.sha256.hmac.arrayBuffer(y,r.service),L=he.sha256.hmac.arrayBuffer(B,"aws4_request"),F=he.sha256.hmac(L,f);return o.set("Authorization","AWS4-HMAC-SHA256 Credential="+r.accessKeyId+"/"+r.dateNow+"/"+r.region+"/"+r.service+"/aws4_request, SignedHeaders="+s+", Signature="+F),o}var $i=function(r,i,l,o=null,s=null){let c=Xi(r,i,l),_={contentType:o,contentHash:s?he.sha256.hex(s):null};return Ki(c,_)};function le(r,i,l,o,s=null,c=null){((i==null?void 0:i.accessKeyId)||(i==null?void 0:i.sessionToken))&&($i(i,l,o,s,c).forEach((f,h)=>{r.setRequestHeader(h,f)}),s&&r.setRequestHeader("content-type",s))}function cn(r){if(r.indexOf("s3://")!=0)throw new Error("URL needs to start with s3://");let i=r.indexOf("/",5);if(i==-1)throw new Error("URL needs to contain a '/' after the host");let l=r.substring(5,i);if(!l)throw new Error("URL needs to contain a bucket name");let o=r.substring(i);if(!o)throw new Error("URL needs to contain key");return{bucket:l,path:o}}function fn(r){var i;return!!((i=r==null?void 0:r.endpoint)!=null&&i.startsWith("http"))}function ce(r,i){let l=cn(i);return fn(r)?`${r==null?void 0:r.endpoint}/${l.bucket}`+l.path:"https://"+ln(r,i,l.bucket)+l.path}var hn=new TextEncoder,_n=new TextDecoder("utf-8");function Er(r,i,l){let o=hn.encode(l),s=r._malloc(o.byteLength),c=r.HEAPU8.subarray(s,s+o.byteLength);c.set(o),r.HEAPF64[(i>>3)+0]=1,r.HEAPF64[(i>>3)+1]=s,r.HEAPF64[(i>>3)+2]=c.byteLength}function Fr(r){switch(r){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Ar(r,i,l,o){let s=r.HEAPU8.subarray(i,i+o*Fr(l));switch(l){case"UINT8":return new Uint8Array(s.buffer,s.byteOffset,o);case"INT8":return new Int8Array(s.buffer,s.byteOffset,o);case"INT32":return new Int32Array(s.buffer,s.byteOffset,o);case"FLOAT":return new Float32Array(s.buffer,s.byteOffset,o);case"DOUBLE":return new Float64Array(s.buffer,s.byteOffset,o);case"VARCHAR":return new Float64Array(s.buffer,s.byteOffset,o);default:return new Array(0)}}function dn(r,i,l){let o=r.HEAPU8.subarray(i,i+l);return new Uint8Array(o.buffer,o.byteOffset,l)}function je(r,i,l){let o=r.HEAPU8.subarray(i,i+l*8);return new Float64Array(o.buffer,o.byteOffset,l)}function bn(r,i,l,o,s,c,_,f){try{let h=r._udfFunctions.get(o);if(!h){Er(i,l,"Unknown UDF with id: "+o);return}let n=_n.decode(i.HEAPU8.subarray(s,s+c)),y=JSON.parse(n),B=je(i,_,f/8),L=R=>{var $;let Y=null;switch(R.validityBuffer!==void 0&&(Y=dn(i,B[R.validityBuffer],y.rows)),R.physicalType){case"VARCHAR":{if(R.dataBuffer===null||R.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(R.lengthBuffer===null||R.lengthBuffer===void 0)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let j=Ar(i,B[R.dataBuffer],R.physicalType,y.rows),G=[],W=je(i,B[R.lengthBuffer],y.rows);for(let C=0;C<y.rows;++C){if(Y!=null&&!Y[C]){G.push(null);continue}let H=i.HEAPU8.subarray(j[C],j[C]+W[C]),Ae=_n.decode(H);G.push(Ae)}return C=>G[C]}case"STRUCT":{let j={},G=[];for(let W=0;W<((($=R.children)==null?void 0:$.length)||0);++W){let C=R.children[W],H=L(C);G.push(Ae=>{j[C.name]=H(Ae)})}return Y!=null?W=>{if(!Y[W])return null;for(let C of G)C(W);return j}:W=>{for(let C of G)C(W);return j}}default:{if(R.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for argument of type: "+R.physicalType);let j=Ar(i,B[R.dataBuffer],R.physicalType,y.rows);return Y!=null?G=>Y[G]?j[G]:null:G=>j[G]}}},F=[];for(let R=0;R<y.args.length;++R)F.push(L(y.args[R]));let X=y.rows*Fr(y.ret.physicalType),z=i._malloc(X),te=Ar(i,z,y.ret.physicalType,y.rows),Q=i._malloc(y.rows),O=dn(i,Q,y.rows);if(te.length==0||O.length==0){Er(i,l,"Can't create physical arrays for result");return}let w=te;y.ret.physicalType=="VARCHAR"&&(w=new Array(y.rows));let q=[];for(let R=0;R<y.args.length;++R)q.push(null);for(let R=0;R<y.rows;++R){for(let $=0;$<y.args.length;++$)q[$]=F[$](R);let Y=h.func(...q);w[R]=Y,O[R]=Y==null?0:1}let me=0;switch(y.ret.physicalType){case"VARCHAR":{let R=new Array(0);me=i._malloc(y.rows*Fr("DOUBLE"));let Y=je(i,me,y.rows),$=0;for(let C=0;C<y.rows;++C){let H=hn.encode(w[C]||"");R.push(H),Y[C]=H.length,$+=H.length}let j=i._malloc($),G=i.HEAPU8.subarray(j,j+$),W=0;for(let C=0;C<y.rows;++C){te[C]=W;let H=R[C];G.subarray(W,W+H.length).set(H),W+=H.length}}}let ve=3*8,Ee=i._malloc(ve),de=je(i,Ee,3);de[0]=z,de[1]=Q,de[2]=me,i.HEAPF64[(l>>3)+0]=0,i.HEAPF64[(l>>3)+1]=Ee,i.HEAPF64[(l>>3)+2]=0}catch(h){Er(i,l,h.toString())}}function zi(){let r=new TextDecoder;return i=>(typeof SharedArrayBuffer<"u"&&i.buffer instanceof SharedArrayBuffer&&(i=new Uint8Array(i)),r.decode(i))}var ji=zi();function ue(r,i){console.error(`FAIL WITH: ${i}`),r.ccall("duckdb_web_fail_with",null,["string"],[i])}function se(r,i,l){return ji(r.HEAPU8.subarray(i,i+l))}function Sr(r,i,l,o){let s=r.stackSave(),c=r.stackAlloc(3*8);l.unshift("number"),o.unshift(c),r.ccall(i,null,l,o);let _=r.HEAPF64[(c>>3)+0],f=r.HEAPF64[(c>>3)+1],h=r.HEAPF64[(c>>3)+2];return r.stackRestore(s),[_,f,h]}function kr(r){r.ccall("duckdb_web_clear_response",null,[],[])}var D={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(r,i){try{let l=D._fileInfoCache.get(i),[o,s,c]=Sr(r,"duckdb_web_fs_get_file_info_by_id",["number","number"],[i,(l==null?void 0:l.cacheEpoch)||0]);if(o!==0)return null;if(c===0)return l;let _=se(r,s,c);kr(r);let f=JSON.parse(_);if(f==null)return null;let h={...f,blob:null};return D._fileInfoCache.set(i,h),h}catch(l){return null}},getGlobalFileInfo(r){var i;try{let[l,o,s]=Sr(r,"duckdb_web_get_global_file_info",["number"],[((i=D._globalFileInfo)==null?void 0:i.cacheEpoch)||0]);if(l!==0)return null;if(s===0)return D._globalFileInfo;let c=se(r,o,s);kr(r);let _=JSON.parse(c);return _==null?null:(D._globalFileInfo={..._,blob:null},D._globalFileInfo)}catch(l){return null}},testPlatformFeature:(r,i)=>{switch(i){case 1:return typeof BigInt64Array<"u";default:return console.warn(`test for unknown feature: ${i}`),!1}},getDefaultDataProtocol(r){return 2},openFile:(r,i,l)=>{var o;try{D._fileInfoCache.delete(i);let s=D.getFileInfo(r,i);switch(s==null?void 0:s.dataProtocol){case 4:case 5:{if(l&1&&l&2)throw new Error(`Opening file ${s.fileName} failed: cannot open file with both read and write flags set`);if(l&32)throw new Error(`Opening file ${s.fileName} failed: appending to HTTP/S3 files is not supported`);if(l&2){let f=new XMLHttpRequest;if(s.dataProtocol==5?(f.open("HEAD",ce(s.s3Config,s.dataUrl),!1),le(f,s.s3Config,s.dataUrl,"HEAD")):f.open("HEAD",s.dataUrl,!1),f.send(null),f.status!=200&&f.status!=404)throw new Error(`Opening file ${s.fileName} failed: Unexpected return status from server (${f.status})`);if(f.status==404&&!(l&8||l&16))throw new Error(`Opening file ${s.fileName} failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag.`);let h=r._malloc(1),n=new Uint8Array;r.HEAPU8.set(n,h);let y=r._malloc(2*8);return r.HEAPF64[(y>>3)+0]=1,r.HEAPF64[(y>>3)+1]=h,y}else if(l!=1)throw new Error(`Opening file ${s.fileName} failed: unsupported file flags: ${l}`);let c=null,_=null;try{let f=new XMLHttpRequest;if(s.dataProtocol==5?(f.open("HEAD",ce(s.s3Config,s.dataUrl),!1),le(f,s.s3Config,s.dataUrl,"HEAD")):f.open("HEAD",s.dataUrl,!1),f.setRequestHeader("Range","bytes=0-"),f.send(null),c=f.getResponseHeader("Content-Length"),c!==null&&f.status==206){let h=r._malloc(16);return r.HEAPF64[(h>>3)+0]=+c,r.HEAPF64[(h>>3)+1]=0,h}}catch(f){_=f,console.warn(`HEAD request with range header failed: ${f}`)}if(s.allowFullHttpReads){if(c!==null&&+c>1){let h=new XMLHttpRequest;s.dataProtocol==5?(h.open("GET",ce(s.s3Config,s.dataUrl),!1),le(h,s.s3Config,s.dataUrl,"GET")):h.open("GET",s.dataUrl,!1),h.setRequestHeader("Range","bytes=0-0"),h.send(null);let n=h.getResponseHeader("Content-Length");if(h.status==206&&n!==null&&+n==1){let y=r._malloc(16);return r.HEAPF64[(y>>3)+0]=+c,r.HEAPF64[(y>>3)+1]=0,y}if(h.status==200&&n!==null&&+n==+c){console.warn(`fall back to full HTTP read for: ${s.dataUrl}`);let y=r._malloc(h.response.byteLength),B=new Uint8Array(h.response,0,h.response.byteLength);r.HEAPU8.set(B,y);let L=r._malloc(2*8);return r.HEAPF64[(L>>3)+0]=h.response.byteLength,r.HEAPF64[(L>>3)+1]=y,L}}console.warn(`falling back to full HTTP read for: ${s.dataUrl}`);let f=new XMLHttpRequest;if(s.dataProtocol==5?(f.open("GET",ce(s.s3Config,s.dataUrl),!1),le(f,s.s3Config,s.dataUrl,"GET")):f.open("GET",s.dataUrl,!1),f.responseType="arraybuffer",f.send(null),f.status==200){let h=r._malloc(f.response.byteLength),n=new Uint8Array(f.response,0,f.response.byteLength);r.HEAPU8.set(n,h);let y=r._malloc(2*8);return r.HEAPF64[(y>>3)+0]=f.response.byteLength,r.HEAPF64[(y>>3)+1]=h,y}}if(_!=null)throw new Error(`Reading file ${s.fileName} failed with error: ${_}`);return 0}case 2:{let c=(o=D._files)==null?void 0:o.get(s.fileName);if(c){let h=r._malloc(16);return r.HEAPF64[(h>>3)+0]=c.size,r.HEAPF64[(h>>3)+1]=0,h}console.warn(`Buffering missing file: ${s.fileName}`);let _=r._malloc(2*8),f=r._malloc(1);return r.HEAPF64[(_>>3)+0]=1,r.HEAPF64[(_>>3)+1]=f,_}}}catch(s){console.error(s.toString()),ue(r,s.toString())}return 0},glob:(r,i,l)=>{var o;try{let s=se(r,i,l);if(s.startsWith("http")||s.startsWith("s3://")){let c=new XMLHttpRequest;if(s.startsWith("s3://")){let _=D.getGlobalFileInfo(r);c.open("HEAD",ce(_==null?void 0:_.s3Config,s),!1),le(c,_==null?void 0:_.s3Config,s,"HEAD")}else c.open("HEAD",s,!1);if(c.send(null),c.status!=200&&c.status!==206){if(!((o=D.getGlobalFileInfo(r))!=null&&o.allowFullHttpReads)){ue(r,`HEAD request failed: ${s}, with full http reads are disabled`);return}let _=new XMLHttpRequest;if(s.startsWith("s3://")){let h=D.getGlobalFileInfo(r);_.open("GET",ce(h==null?void 0:h.s3Config,s),!1),le(_,h==null?void 0:h.s3Config,s,"HEAD")}else _.open("GET",s,!1);if(_.setRequestHeader("Range","bytes=0-0"),_.send(null),_.status!=200&&_.status!==206){ue(r,`HEAD and GET requests failed: ${s}`);return}let f=_.getResponseHeader("Content-Length");f&&+f>1&&console.warn(`Range request for ${s} did not return a partial response: ${_.status} "${_.statusText}"`)}r.ccall("duckdb_web_fs_glob_add_path",null,["string"],[s])}}catch(s){return ue(r,s.toString()),0}},checkFile:(r,i,l)=>{try{let o=se(r,i,l);if(o.startsWith("http")||o.startsWith("s3://")){let s=new XMLHttpRequest;if(o.startsWith("s3://")){let c=D.getGlobalFileInfo(r);s.open("HEAD",ce(c==null?void 0:c.s3Config,o),!1),le(s,c==null?void 0:c.s3Config,o,"HEAD")}else s.open("HEAD",o,!1);return s.send(null),s.status==206||s.status==200}}catch(o){return!1}return!1},syncFile:(r,i)=>{},closeFile:(r,i)=>{var o;let l=D.getFileInfo(r,i);switch(D._fileInfoCache.delete(i),l==null?void 0:l.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let s=(o=D._files)==null?void 0:o.get(l.fileName);if(!s)throw new Error(`No OPFS access handle registered with name: ${l.fileName}`);return s.flush()}}},truncateFile:(r,i,l)=>{var s;let o=D.getFileInfo(r,i);switch(o==null?void 0:o.dataProtocol){case 4:ue(r,"Cannot truncate a http file");return;case 5:ue(r,"Cannot truncate an s3 file");return;case 0:case 1:case 2:ue(r,"truncateFile not implemented");return;case 3:{let c=(s=D._files)==null?void 0:s.get(o.fileName);if(!c)throw new Error(`No OPFS access handle registered with name: ${o.fileName}`);return c.truncate(l)}}return 0},readFile(r,i,l,o,s){var c,_;if(o==0)return 0;try{let f=D.getFileInfo(r,i);switch(f==null?void 0:f.dataProtocol){case 4:case 5:{if(!f.dataUrl)throw new Error(`Missing data URL for file ${i}`);try{let h=new XMLHttpRequest;if(f.dataProtocol==5?(h.open("GET",ce(f==null?void 0:f.s3Config,f.dataUrl),!1),le(h,f==null?void 0:f.s3Config,f.dataUrl,"GET")):h.open("GET",f.dataUrl,!1),h.responseType="arraybuffer",h.setRequestHeader("Range",`bytes=${s}-${s+o-1}`),h.send(null),h.status==206||h.status==200&&o==h.response.byteLength&&s==0){let n=new Uint8Array(h.response,0,Math.min(h.response.byteLength,o));return r.HEAPU8.set(n,l),n.byteLength}else if(h.status==200){console.warn(`Range request for ${f.dataUrl} did not return a partial response: ${h.status} "${h.statusText}"`);let n=new Uint8Array(h.response,s,Math.min(h.response.byteLength-s,o));return r.HEAPU8.set(n,l),n.byteLength}else throw new Error(`Range request for ${f.dataUrl} did returned non-success status: ${h.status} "${h.statusText}"`)}catch(h){throw new Error(`Range request for ${f.dataUrl} failed with error: ${h}"`)}}case 2:{let h=(c=D._files)==null?void 0:c.get(f.fileName);if(!h)throw new Error(`No HTML5 file registered with name: ${f.fileName}`);let n=h.slice(s,s+o),y=new Uint8Array(new FileReaderSync().readAsArrayBuffer(n));return r.HEAPU8.set(y,l),y.byteLength}case 3:{let h=(_=D._files)==null?void 0:_.get(f.fileName);if(!h)throw new Error(`No OPFS access handle registered with name: ${f.fileName}`);let n=r.HEAPU8.subarray(l,l+o);return h.read(n,{at:s})}}return 0}catch(f){return ue(r,f.toString()),0}},writeFile:(r,i,l,o,s)=>{var _;let c=D.getFileInfo(r,i);switch(c==null?void 0:c.dataProtocol){case 4:return ue(r,"Cannot write to HTTP file"),0;case 5:{let f=r.HEAPU8.subarray(l,l+o),h=new XMLHttpRequest;return h.open("PUT",ce(c==null?void 0:c.s3Config,c.dataUrl),!1),le(h,c==null?void 0:c.s3Config,c.dataUrl,"PUT","",f),h.send(f),o}case 2:return ue(r,"cannot write using the html5 file reader api"),0;case 3:{let f=(_=D._files)==null?void 0:_.get(c.fileName);if(!f)throw new Error(`No OPFS access handle registered with name: ${c.fileName}`);let h=r.HEAPU8.subarray(l,l+o);return f.write(h,{at:s})}}return 0},getLastFileModificationTime:(r,i)=>{var o;let l=D.getFileInfo(r,i);switch(l==null?void 0:l.dataProtocol){case 2:{if(!((o=D._files)==null?void 0:o.get(l.fileName)))throw Error(`No handle available for file: ${l.fileName}`);return 0}case 4:case 5:return new Date().getTime()}return 0},checkDirectory:(r,i,l)=>{let o=se(r,i,l);return console.log(`checkDirectory: ${o}`),!1},createDirectory:(r,i,l)=>{let o=se(r,i,l);console.log(`createDirectory: ${o}`)},removeDirectory:(r,i,l)=>{let o=se(r,i,l);console.log(`removeDirectory: ${o}`)},listDirectoryEntries:(r,i,l)=>{let o=se(r,i,l);return console.log(`listDirectoryEntries: ${o}`),!1},moveFile:(r,i,l,o,s)=>{var h,n;let c=se(r,i,l),_=se(r,o,s),f=(h=D._files)==null?void 0:h.get(c);f!==void 0&&(D._files.delete(f),D._files.set(_,f));for(let[y,B]of((n=D._fileInfoCache)==null?void 0:n.entries())||[])if(B.dataUrl==c){D._fileInfoCache.delete(y);break}return!0},removeFile:(r,i,l)=>{},callScalarUDF:(r,i,l,o,s,c,_)=>{bn(D,r,i,l,o,s,c,_)}};globalThis.DUCKDB_RUNTIME={};for(let r of Object.getOwnPropertyNames(D))r!="constructor"&&(globalThis.DUCKDB_RUNTIME[r]=Object.getOwnPropertyDescriptor(D,r).value);globalThis.onmessage=r=>{if(r.data.cmd==="load"){let i=un();i.wasmModule=r.data.wasmModule,i.wasmMemory=r.data.wasmMemory,i.buffer=i.wasmMemory.buffer,i.ENVIRONMENT_IS_PTHREAD=!0,hr(i).then(function(l){sn(l)})}else if(r.data.cmd==="registerFileHandle")globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.set(r.data.fileName,r.data.fileHandle);else if(r.data.cmd==="dropFileHandle")globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.delete(r.data.fileName);else if(r.data.cmd==="registerUDFFunction")globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._udfFunctions.set(r.data.udf.name,r.data.udf);else if(r.data.cmd==="dropUDFFunctions"){globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map;for(let i of globalThis.DUCKDB_RUNTIME._udfFunctions.keys())globalThis.DUCKDB_RUNTIME._udfFunctions.get(i).connection_id==r.data.connectionId&&globalThis.DUCKDB_RUNTIME._udfFunctions.delete(i)}else vr(r)};})();
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
//# sourceMappingURL=duckdb-browser-coi.pthread.worker.js.map
